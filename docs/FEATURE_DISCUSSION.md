# DSE Speaking 功能讨论与规划

> 本文档用于记录项目新功能的讨论、构思和规划。  
> 每次讨论后更新状态，方便追踪进度。

---

## 📋 功能列表

| # | 功能名称 | 状态 | 优先级 |
|---|---------|------|--------|
| 1 | 用户设置 - 练测等级展示 | 💬 讨论中 | - |
| 2 | 用户设置 - 语言偏好 | 💬 讨论中 | - |

---

## 1. 用户设置 - 练测等级展示

**提出日期：** 2026-02-11

### 描述

在「设置」页面中，让用户可以看到自己的练测等级（Practice Level）。这个等级可以反映用户在 DSE Speaking 练习中的表现和进步程度。

### 待讨论的问题

- **等级体系设计：** 等级怎么划分？是用 DSE 官方的 1-7 级（对应 U, 1, 2, 3, 4, 5, 5*, 5**），还是自定义一套练习等级？
- **等级计算方式：** 等级是用户自评、同伴互评，还是根据练习次数 / 时长自动计算？
- **展示形式：** 用数字、进度条、徽章、还是雷达图来展示？
- **是否公开：** 等级是否在房间列表 / 用户头像旁展示，方便匹配水平相近的队友？

### 初步想法

```
用户设置页
├── 个人资料
│   ├── 头像 / 昵称
│   ├── 练测等级（Level）  ← 新功能
│   └── ...
├── 语言偏好               ← 新功能
└── 账号设置
```

---

## 2. 用户设置 - 语言偏好

**提出日期：** 2026-02-11

### 描述

让用户在设置中标注自己熟练使用的语言，例如：

- **粤语（Cantonese）**
- **普通话（Mandarin）**
- **英语（English）**
- 其他语言

### 应用场景

- **房间匹配：** 用户可以找到说相同母语的队友，方便课外沟通 / 讨论策略
- **房间筛选：** 在房间列表中可以按语言偏好筛选
- **用户档案展示：** 在个人卡片上显示语言标签

### 待讨论的问题

- **多选 vs 单选：** 用户可以选多种语言吗？（比如粤语 + 普通话都流利）
- **熟练程度：** 是否需要标注熟练程度（如母语 / 流利 / 一般），还是只标注会说的语言？
- **跟房间的关系：** 创建房间时，是否可以设定「房间语言」来吸引同语言的人？

### 初步想法

语言偏好可以作为用户 profile 的一部分，存在 Supabase 的用户表中。大致的数据结构：

```sql
-- 可能的字段扩展（profiles 表）
ALTER TABLE profiles ADD COLUMN languages text[] DEFAULT '{}';
ALTER TABLE profiles ADD COLUMN practice_level int DEFAULT 0;
```

---

## 🗓 讨论记录

### 2026-02-11 - 初始讨论

- 提出了两个新功能方向：练测等级 + 语言偏好
- 下一步：确定等级体系和语言选项的具体设计

---

*最后更新：2026-02-11*
